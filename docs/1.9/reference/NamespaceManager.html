

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Namespace Manager &mdash; SpyDrNet 1.9.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-rendered-html.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Verilog Language Support" href="verilog_support.html" />
    <link rel="prev" title="Uniquify" href="uniquify.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SpyDrNet
          

          
          </a>

          
            
            
              <div class="version">
                1.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="element_data.html">Element Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes/index.html">API Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="clone.html">Clone</a></li>
<li class="toctree-l2"><a class="reference internal" href="uniquify.html">Uniquify</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Namespace Manager</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namespace-details-default">Namespace Details (Default)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#edif-details">EDIF Details</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-namespace-managers">Using the namespace managers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-new-namespace">Creating a new Namespace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="verilog_support.html">Verilog Language Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="Callback_Framework.html">Callback Framework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SpyDrNet</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Reference</a> &raquo;</li>
        
      <li>Namespace Manager</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/reference/NamespaceManager.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="namespace-manager">
<h1>Namespace Manager<a class="headerlink" href="#namespace-manager" title="Permalink to this headline">¶</a></h1>
<p>SpyDrNet’s callback framework was leveraged to implement a namespace manager that will raise an exception if a naming rule is violated. The managers themselves also provide an example of how the callback framework can be leveraged.</p>
<p>The namespace manager is a plugin that is loaded when the library is loaded. It will constantly be checking names and rejecting invalid or duplicate names. The active namespace can be set in code to allow for parsing in a different language or other cases where a valid name in the namespace may differ.</p>
<p>Currently there are 2 namespaces implemented. One for EDIF and one called Default.</p>
<div class="section" id="namespace-details-default">
<h2>Namespace Details (Default)<a class="headerlink" href="#namespace-details-default" title="Permalink to this headline">¶</a></h2>
<p>The namespace managers provide separate namespaces to be created based on element types. Both the default and EDIF namespaces allow for 1 namespace for Libraries indexed by the Netlist, 1 namespace for Definitions indexed by the Library and 3 namespaces for Ports, Cables, and Instances indexed by the Definition. This parallels EDIF and verilog Netlists well. Namespace scopes could be modified by creating a custom namespace manager (see the section below)</p>
<p>The namespace manager checks each of the namespaces when an object is added, removed, or renamed to ensure that the new name does not clash with an old name. Name comparisons are made against the “.NAME” entry in each element’s dictionary. This value is set when the .name setter is used as well so no additional care needs to be used. The implementation was done using the dictionary lookup on the key “.NAME” to provide a simpler template on which additional keys could be watched.</p>
<p>The default manager accpets any name and has no restrictions, but it has the framework included to implement this when it is extended. The EDIF manager takes advantage of this feature.</p>
</div>
<div class="section" id="edif-details">
<h2>EDIF Details<a class="headerlink" href="#edif-details" title="Permalink to this headline">¶</a></h2>
<p>EDIF has a relativly restrictive naming convention. Names are not case sensitive, Their max length is 255 characters, and they cannont contain many special characters. Most names are composed of uper and lower case letters, numbers, and underscores. The only exception is names that begin with a <cite>&amp;</cite> character. To compensate for this some EDIF netlsits use an rename construct to provide a more human readable name and convert the name to something that fits within the namespace as an EDIF identifer.</p>
<p>SpyDrNet’s EDIF Namespace manager will look for case insensitive conflicts on the EDIF identifiers that are stored with the key “EDIF.identifier” along side the check for conflicts with the regular name in the default namespace.</p>
<p>Additionally the EDIF namespace manager will check the EDIF identifiers for invalid characters or or lengths longer than 255 characters or 256 if it starts with an &amp;.</p>
</div>
<div class="section" id="using-the-namespace-managers">
<h2>Using the namespace managers<a class="headerlink" href="#using-the-namespace-managers" title="Permalink to this headline">¶</a></h2>
<p>Currently only “DEFAULT” and “EDIF” are avaiable namespaces. Verilog takes advantage of the “DEFAULT” namespace</p>
<p>code required to turn the namespace to a different one. code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spydrnet.plugins</span> <span class="kn">import</span> <span class="n">namespace_manager</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ns_default</span> <span class="o">=</span> <span class="n">namespace_manager</span><span class="o">.</span><span class="n">default</span> <span class="c1">#save the default just to be safe. (optional)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">namespace_manager</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="s2">&quot;EDIF&quot;</span> <span class="c1">#can be set to &quot;EDIF&quot; or &quot;DEFAULT&quot;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">do_something_cool</span><span class="p">()</span> <span class="c1">#new namespace rules will apply</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">namespace_manager</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="n">ns_default</span> <span class="c1">#set the default back (optional)</span>
</pre></div>
</div>
<p>The namespace manager that is selected will run in the background and watch for naming conflicts that occur as additions, modifications and removals take place on the netlist. Currently changing the namespace will not update the namespace with the existing netlist or details. Because of this, it is possible that unexpected errors may happen if the namespace is changed between operations (example: add a definition, change the namespace, remove a definition). This will likely be implemented at a future date.</p>
</div>
<div class="section" id="creating-a-new-namespace">
<h2>Creating a new Namespace<a class="headerlink" href="#creating-a-new-namespace" title="Permalink to this headline">¶</a></h2>
<p>The directory <cite>spydrnet/plugins/namespace_manager/__init__.py</cite> holds the callback logic while the other files in the directory <cite>edif_namespace.py</cite> and <cite>default_namespace.py</cite> hold the logic that checks if names are valid. Adding additional namespaces requires creating a new class that implements all of the functions present in the default_namespace.py’s DefaultNamespace. The DefaultNamespace itself can be inherited and only the functions needed overwritten.</p>
<p>Once implemented the __init__.py can be updated to include the namespace as a possible policy with an appropriate name string. Set the manager to be used with something like the example code above.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="verilog_support.html" class="btn btn-neutral float-right" title="Verilog Language Support" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="uniquify.html" class="btn btn-neutral float-left" title="Uniquify" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019, Brigham Young Universitiy.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>